{
  "permissions": {
    "allow": [
      "Bash(dir:*)",
      "Bash(node -e:*)",
      "Bash(test:*)",
      "Bash(cmd /c \"ren authentication-users authentication-and-users\")",
      "Bash(cmd /c:*)",
      "Bash(for file in AdminList.tsx AdminInvite.tsx AdminDetail.tsx PasswordChange.tsx PasswordResetRequest.tsx PasswordResetConfirm.tsx)",
      "Bash(do echo \"Updating $file...\")",
      "Bash(done)",
      "Bash(npm run dev:*)",
      "Bash(\"c:\\\\dev\\\\hirter-games-new\\\\src\\\\sections\\\\analytics-insights\\\\components\\\\index.ts\" << 'EOF'\nexport { AnalyticsDashboard } from './AnalyticsDashboard'\nexport { ParticipantDetails } from './ParticipantDetails'\nexport { ReceiptList } from './ReceiptList'\nexport { ReceiptRow } from './ReceiptRow'\nexport { ReceiptStatusBadge } from './ReceiptStatusBadge'\nexport { WinnerSelection } from './WinnerSelection'\nexport { WinnerCard } from './WinnerCard'\nexport { StatCard } from './StatCard'\nexport { ContestSelector } from './ContestSelector'\nexport { MetricCard } from './MetricCard'\nexport { ReceiptTrendChart } from './ReceiptTrendChart'\nexport { TopStoresChart } from './TopStoresChart'\nEOF)",
      "Bash(\"c:\\\\dev\\\\hirter-games-new\\\\src\\\\sections\\\\analytics-insights\\\\AnalyticsDashboardPreview.tsx\" << 'EOF'\nimport data from '@/../product/sections/analytics-insights/data.json'\nimport { AnalyticsDashboard } from './components/AnalyticsDashboard'\n\nexport default function AnalyticsDashboardPreview\\(\\) {\n  return \\(\n    <AnalyticsDashboard\n      metrics={data.dashboardMetrics}\n      onViewReceipts={\\(\\) => console.log\\('View all receipts'\\)}\n      onViewParticipants={\\(\\) => console.log\\('View all participants'\\)}\n      onSelectWinners={\\(\\) => console.log\\('Start winner selection'\\)}\n      onFilterByContest={\\(contestId\\) => console.log\\('Filter by contest:', contestId\\)}\n    />\n  \\)\n}\nEOF)",
      "Bash(\"c:\\\\dev\\\\hirter-games-new\\\\src\\\\sections\\\\analytics-insights\\\\components\\\\AnalyticsDashboard.tsx\" << 'EOFMAIN'\nimport { Users, Receipt, Trophy, TrendingUp, Calendar, BarChart3 } from 'lucide-react'\nimport type { AnalyticsDashboardProps } from '@/../product/sections/analytics-insights/types'\nimport { ContestSelector } from './ContestSelector'\nimport { MetricCard } from './MetricCard'\nimport { ReceiptTrendChart } from './ReceiptTrendChart'\nimport { TopStoresChart } from './TopStoresChart'\n\nexport function AnalyticsDashboard\\({\n  metrics,\n  onViewReceipts,\n  onViewParticipants,\n  onSelectWinners,\n  onFilterByContest\n}: AnalyticsDashboardProps\\) {\n  // Mock contests for the selector \\(in real app, this would come from props\\)\n  const mockContests = [\n    { id: 'contest-001', title: 'Hirter Sommer Grillen 2026', status: 'active' as const },\n    { id: 'contest-004', title: 'Hirter Oktoberfest Special 2026', status: 'active' as const }\n  ]\n\n  return \\(\n    <div className=\"min-h-screen bg-stone-50 dark:bg-stone-950\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8\">\n\n        {/* Contest Selector */}\n        <div className=\"space-y-2\">\n          <h1 className=\"text-3xl font-bold text-stone-900 dark:text-stone-100\">\n            Analytics & Insights\n          </h1>\n          <p className=\"text-stone-600 dark:text-stone-400\">\n            Analysieren Sie Contest-Daten, Teilnehmerverhalten und Receipt-Informationen\n          </p>\n        </div>\n\n        <ContestSelector\n          contests={mockContests}\n          selectedContestId=\"contest-001\"\n          onSelect={onFilterByContest}\n        />\n\n        {/* Key Metrics Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <MetricCard\n            label=\"Teilnehmer Gesamt\"\n            value={metrics.totalParticipants}\n            subtitle={`${metrics.participantsThisWeek} neue diese Woche`}\n            icon={Users}\n            variant=\"primary\"\n          />\n          <MetricCard\n            label=\"Kassenbons Gesamt\"\n            value={metrics.totalReceipts}\n            subtitle={`${metrics.receiptsToday} heute eingereicht`}\n            icon={Receipt}\n            variant=\"secondary\"\n          />\n          <MetricCard\n            label=\"Gewinner\"\n            value={metrics.totalWinners}\n            subtitle=\"Über alle Contests\"\n            icon={Trophy}\n          />\n          <MetricCard\n            label=\"Ø Receipts pro Teilnehmer\"\n            value={metrics.averageReceiptsPerParticipant.toFixed\\(2\\)}\n            subtitle=\"Durchschnittliche Teilnahme\"\n            icon={TrendingUp}\n          />\n        </div>\n\n        {/* Weekly Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <MetricCard\n            label=\"Receipts diese Woche\"\n            value={metrics.receiptsThisWeek}\n            icon={Calendar}\n          />\n          <MetricCard\n            label=\"Aktive Contests\"\n            value={metrics.activeContests}\n            icon={BarChart3}\n          />\n        </div>\n\n        {/* Charts Section */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Receipt Trend Chart */}\n          <div className=\"bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 p-6\">\n            <div className=\"mb-6\">\n              <h2 className=\"text-lg font-bold text-stone-900 dark:text-stone-100 mb-1\">\n                Receipt-Trend\n              </h2>\n              <p className=\"text-sm text-stone-600 dark:text-stone-400\">\n                Letzte 8 Tage\n              </p>\n            </div>\n            <ReceiptTrendChart data={metrics.receiptTrend} />\n          </div>\n\n          {/* Top Stores Chart */}\n          <div className=\"bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 p-6\">\n            <div className=\"mb-6\">\n              <h2 className=\"text-lg font-bold text-stone-900 dark:text-stone-100 mb-1\">\n                Top 5 Stores\n              </h2>\n              <p className=\"text-sm text-stone-600 dark:text-stone-400\">\n                Nach Anzahl eingereichten Receipts\n              </p>\n            </div>\n            <TopStoresChart stores={metrics.topStores} />\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex flex-wrap gap-4 pt-4\">\n          <button\n            onClick={onViewReceipts}\n            className=\"px-6 py-3 bg-[#253081] hover:bg-[#253081]/90 dark:bg-[#253081]/90 dark:hover:bg-[#253081] text-white font-semibold transition-colors\"\n          >\n            Alle Receipts anzeigen\n          </button>\n          <button\n            onClick={onViewParticipants}\n            className=\"px-6 py-3 bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 hover:border-[#253081] dark:hover:border-[#D5B376] text-stone-900 dark:text-stone-100 font-semibold transition-colors\"\n          >\n            Teilnehmer verwalten\n          </button>\n          <button\n            onClick={onSelectWinners}\n            className=\"px-6 py-3 bg-[#D5B376] hover:bg-[#D5B376]/90 dark:bg-[#D5B376]/90 dark:hover:bg-[#D5B376] text-white font-semibold transition-colors\"\n          >\n            Gewinner auswählen\n          </button>\n        </div>\n      </div>\n    </div>\n  \\)\n}\nEOFMAIN)",
      "Bash(ls:*)",
      "Bash(npm install:*)",
      "Bash(xargs sed:*)",
      "Bash(find product/sections -name \"*.png\" -exec bash -c 'section=$\\(echo {} | cut -d/ -f3\\); cp {} product-plan/sections/$section/' ;)",
      "Bash(find:*)",
      "Bash(tar:*)",
      "Bash(powershell.exe -Command \"Compress-Archive -Path 'product-plan' -DestinationPath 'product-plan.zip' -Force\":*)",
      "Bash(pkill:*)"
    ]
  }
}
